(function(){function e(e){return e instanceof f.selection?e:f.select(e)}function t(e,t,n){return function(r){return arguments.length?(t[e]=r,n):t[e]}}function n(e,n,r){r.forEach(function(r){e[r]=t(r,n,e)})}function r(e,t,n,r){if(e&&e())return t.append(n).classed(r,!!r).html(e())}function i(e,t){h(t).forEach(function(n){e[n]=t[n]})}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){var t=s(e);return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function u(e){return e===undefined}var a=this,f=a.d3,l={version:"0.1.0"},c=[];l.defineElement=function(t,r){if(l[t])throw new Error("Attempting to define element that already exists or is protected: '"+t+"'");c.push(t),l[t]=function(i){var s,o={height:200,width:200},u=function(n){return e(n).append("div").classed("element element-"+t,!0).style("height",u.height()+"px").style("width",u.width()+"px").call(s),u};return u.render=u,n(u,o,["metric","width","height"]),u.size=function(e,t){return arguments.length?u.height(e).width(t):[u.height(),u.width()]},s=r(u),d(i)&&h(i).forEach(function(e){p(this[e])&&this[e](i[e])}),u}},l.group=function(){var t,r=[];return t=function(t){var n=e(t).append("div").classed("group",!0).style("position","relative");return r.forEach(function(e){n.append("div").classed("element-wrapper",!0).style("position","absolute").style("top",e.top()+"px").style("left",e.left()+"px").call(e)}),n},c.forEach(function(e){t[e]=function(i){var s=l[e](i),o={top:0,left:0};return r.push(s),n(s,o,["top","left"]),s.position=function(e,t){return arguments.length?s.top(e).left(t):[s.top(),s.left()]},s.end=function(){return t},s}}),t.render=t,t};var h=Object.keys,p=o("function"),d=o("object");l.defineElement("number",function(e){var t={};return n(e,t,["title","description"]),function(t){var n=e.metric(),i;r(e.title,t,"h1","title"),i=t.append("h2").classed("value",!0),r(e.description,t,"p","description"),n.on("change",function(){i.text(n.value())})}}),l.defineElement("graph",function(e){var t={};return n(e,t,["title","description"]),function(t){function n(){var e=i.domain(),t=e[0]instanceof Date?f.time.scale():f.scale.linear();return t.domain(f.extent(e))}var i=e.metric(),s;r(e.title,t,"h1","title"),s=t.append("div").classed("chart line-chart",!0),r(e.description,t,"p","description"),i.on("ready",function(){var r=dc.lineChart(s.node()).width(e.width()-40).height(e.height()-140).margins({top:10,right:10,bottom:30,left:50}).dimension(i.dimension()).group(i.group()).x(n());r.elasticY(!0).renderHorizontalGridLines(!0).brushOn(!1).renderArea(!0),r.xAxis().ticks(f.time.days).tickFormat(function(e){return e.getMonth()+1+"/"+e.getDate()}),r.render()})}}),l.defineElement("pie",function(e){var t={};return n(e,t,["title","description"]),function(t){var n=e.metric(),i;r(e.title,t,"h1","title"),i=t.append("div").classed("chart pie-chart",!0),r(e.description,t,"p","description"),n.on("ready",function(){var r=f.scale.linear().domain([0,n.group().size()-1]).range(["rgba(0,0,0,0.2)","rgba(0,0,0,0.7)"]),s=dc.pieChart(i.node()).width(e.width()).height(e.width()).radius(e.width()/2-2).innerRadius(e.width()/5).dimension(n.dimension()).group(n.group()),o=[];for(var u=0,a=n.group().size();u<a;u++)o.push(u);s.colors(o.map(r)),s.render()})}}),a.informant=l})();