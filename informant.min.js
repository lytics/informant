(function(){function e(e){return e instanceof u.selection?e:u.select(e)}function t(e,t,n){return function(r){return arguments.length?(t[e]=r,n):t[e]}}function n(e,t){l(t).forEach(function(n){e[n]=t[n]})}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e){var t=r(e);return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function s(e){return e===undefined}var o=this,u=o.d3,a={version:"0.1.0"},f=[];a.defineElement=function(n,r){if(a[n])throw new Error("Attempting to define element that already exists or is protected: '"+n+"'");f.push(n),a[n]=function(i){var s,o={height:200,width:200},u=function(t){return e(t).append("div").classed("element element-"+n,!0).style("height",u.height()+"px").style("width",u.width()+"px").call(s),u};return u.render=u,["metric","width","height"].forEach(function(e){u[e]=t(e,o,u)}),u.size=function(e,t){return arguments.length?u.height(e).width(t):[u.height(),u.width()]},s=r(u),h(i)&&l(i).forEach(function(e){c(this[e])&&this[e](i[e])}),u}},a.group=function(){var n,r=[];return n=function(t){var n=e(t).append("div").classed("group",!0).style("position","relative");return r.forEach(function(e){n.append("div").classed("element-wrapper",!0).style("position","absolute").style("top",e.top()+"px").style("left",e.left()+"px").call(e)}),n},f.forEach(function(e){n[e]=function(i){var s=a[e](i),o={top:0,left:0};return r.push(s),["top","left"].forEach(function(e){s[e]=t(e,o,s)}),s.position=function(e,t){return arguments.length?s.top(e).left(t):[s.top(),s.left()]},s.end=function(){return n},s}}),n.render=n,n},o.informant=a;var l=Object.keys,c=i("function"),h=i("object");a.defineElement("number",function(e){var n={},r=function(t){var n=e.metric(),r;e.title()&&t.append("div").classed("title",!0).html(e.title()),r=t.append("div").classed("value",!0),e.description()&&t.append("div").classed("description",!0).html(e.description()),n.on("change",function(){r.text(n.value())})};return["title","description"].forEach(function(r){e[r]=t(r,n,e)}),r}),a.defineElement("graph",function(e){var t=function(t){function n(){var e=r.domain(),t=e[0]instanceof Date?u.time.scale():u.scale.linear();return t.domain(u.extent(e))}var r=e.metric();r.on("ready",function(){var s=dc.lineChart(t.node()).width(e.width()-40).height(e.height()-140).margins({top:10,right:10,bottom:30,left:50}).dimension(r.dimension()).group(r.group()).x(n());s.elasticY(!0).renderHorizontalGridLines(!0).brushOn(!1).renderArea(!0),s.xAxis().ticks(u.time.days).tickFormat(function(e){return e.getMonth()+1+"/"+e.getDate()}),s.render()})};return t})})();